<!DOCTYPE html>
<html lang="en-us">
	<head>
		<meta charset="utf-8">
		<!--<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">-->
		<title></title>
	    <meta name="description" content="">
	    <meta name="author" content="">
	    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<link rel="stylesheet" type="text/css" media="screen" href="../css/bootstrap.min.css">
		<link rel="stylesheet" type="text/css" media="screen" href="../css/font-awesome.min.css">
		<link rel="stylesheet" type="text/css" media="screen" href="../css/smartadmin-production-plugins.min.css">
		<link rel="stylesheet" type="text/css" media="screen" href="../css/smartadmin-production.min.css">
		<link rel="stylesheet" type="text/css" media="screen" href="../css/smartadmin-skins.min.css">
		<link rel="stylesheet" type="text/css" media="screen" href="../css/smartadmin-rtl.min.css">
		<link rel="stylesheet" type="text/css" media="screen" href="../css/demo.min.css">
		<!-- FAVICONS -->
		<link rel="shortcut icon" href="../img/favicon/favicon.ico" type="image/x-icon">
		<link rel="icon" href="../img/favicon/favicon.ico" type="image/x-icon">
		<!-- GOOGLE FONT -->
		<link rel="stylesheet" href="inOrder.css">
		<link rel="stylesheet" href="../css/css.css">
		<link rel="stylesheet" href="../css/style.css">
		<link type="text/css" rel="stylesheet" href="./css/laydate.css">
		<link type="text/css" rel="stylesheet" href="./css/laydateDate.css">
		<link rel="apple-touch-icon" href="../img/splash/sptouch-icon-iphone.png">
		<link rel="apple-touch-icon" sizes="76x76" href="../img/splash/touch-icon-ipad.png">
		<link rel="apple-touch-icon" sizes="120x120" href="../img/splash/touch-icon-iphone-retina.png">
		<link rel="apple-touch-icon" sizes="152x152" href="../img/splash/touch-icon-ipad-retina.png">
		<!-- iOS web-app metas : hides Safari UI Components and Changes Status Bar Appearance -->
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<!-- Startup image for web apps -->
		<link rel="apple-touch-startup-image" href="../img/splash/ipad-landscape.png" media="screen and (min-device-width: 481px) and (max-device-width: 1024px) and (orientation:landscape)">
		<link rel="apple-touch-startup-image" href="../img/splash/ipad-portrait.png" media="screen and (min-device-width: 481px) and (max-device-width: 1024px) and (orientation:portrait)">
		<link rel="apple-touch-startup-image" href="../img/splash/iphone.png" media="screen and (max-device-width: 320px)">
	</head>
	<body class="">
		<!-- HEADER -->
		<header id="header">
			<div id="logo-group">
				<!-- PLACE YOUR LOGO HERE -->
				<span id="logo"> <a href="/" title="回到首页"><img src="../img/logo.png" alt="SmartAdmin"></a></span>
				<!-- END LOGO PLACEHOLDER -->
			</div>
			<!-- pulled right: nav area -->
			<div class="pull-right">
				<!-- collapse menu button -->
				<div id="hide-menu" class="btn-header pull-right">
					<span> <a href="./../javascript:void(0);" data-action="toggleMenu" title="隐藏Menu"><i class="fa fa-reorder"></i></a> </span>
				</div>
				<!-- end collapse menu -->
				<!-- #MOBILE -->
				<!-- logout button -->
				<div id="logout" class="btn-header transparent pull-right">
					<span> <a href="./../login.html" title="退出" data-action="userLogout" data-logout-msg="确定要退出管理系统？"><i class="fa fa-sign-out"></i></a> </span>
				</div>
				<!-- end logout button -->
				
			</div>
			<!-- end pulled right: nav area -->
		</header>
		<!-- END HEADER -->
		<!-- Left panel : Navigation area -->
		<!-- Note: This width of the aside area can be adjusted through LESS variables -->
		<aside id="left-panel">
			<div class="login-info">
				<span> <!-- User image size is adjusted inside CSS, it should stay as it --> 
					<!-- session open -->
					<a href="./../javascript:void(0);" id="show-shortcut" data-action="toggleShortcut">
						<img src="../img/avatars/sunny.png" alt="me" class="online" /> 
						<span id="cookie"></span>
						<i class="fa fa-angle-down"></i>
					</a> 
				</span>
			</div>
			<!-- end user info -->
			<nav id="nav-left">
				
			</nav>
			<span class="minifyme" data-action="minifyMenu"> 
				<i class="fa fa-arrow-circle-left hit"></i> 
			</span>
		</aside>
		<!-- END NAVIGATION -->
		<!-- MAIN PANEL -->
		<div id="main" role="main">
			<!-- RIBBON -->
			<div id="ribbon">
				<!-- breadcrumb -->
				<ol class="breadcrumb">
					<li><a href="/" title="回到首页">首页</a></li><li>生产单管理</li>
				</ol>
				<!-- end breadcrumb -->
			</div>
			<!-- END RIBBON -->
			<!-- MAIN CONTENT -->
			<div id="content">
				<!-- widget grid -->
				<section id="widget-grid" class="">
					<!-- row -->
					<div class="row">
						<!-- NEW WIDGET START -->
						<article class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                            
							<div class="jarviswidget" id="wid-id-form">
								<header>
									<span class="widget-icon"> <i class="fa fa-table"></i> </span>
									<h2 id="click-title">添加</h2>
								</header>
								<div class="widget-body">
									<form class="form-horizontal" id="iform" method="post" >
										<fieldset>
											<div class="form-group" id='OrderNoinput'>
												<label class="col-md-2 control-label">订单号：</label>
												<div class="col-md-10">
													<input class="form-control" name="OrderNo" id="OrderNo" placeholder="必填项" type="text">
												</div>
											</div>
											<div class="form-group">
												<label class="col-md-2 control-label">订单名称：</label>
												<div class="col-md-10">
													<input class="form-control" name="OrderName" id="OrderName" placeholder="必填项" type="text">
												</div>
											</div>
					                	</fieldset>
					                        <fieldset>
					                            <table id="Table1" class="table table-striped table-bordered table-hover" width="100%">
													<thead>			                
														<tr>
															<th data-hide="phone" style="display: none">订单名称</th>
															<th data-hide="phone">产品</th>
															<th style="width: 150px" data-class="expand">批次</th>
															<th style="width: 150px" data-class="expand">班组</th>
															<th data-hide="phone">产线</th>
															<th style="width: 100px" data-class="expand">数量</th>
															<th style="width: 100px" data-class="expand">箱规</th>
															<th style="width: 200px" data-class="expand">状态</th>
															<th style="width: 50px" data-class="expand">删除</th>
														</tr>
													</thead>
													<tbody id="add-tbody">
														<tr>
															<!-- <td>
																<input class="form-control" id="OrderName1" name="OrderName1" value="" type="text">
															</td> -->
															<td>
																<select class="product form-control" id="cp_select1" name="cp_select1">
																	<option value="0" >请选择</option>
																</select>  
															</td>
															<td>
																<input class="form-control " onKeyUp="value=value.replace(/\D/g,'')" id="BatchNo1" name="BatchNo" value="1" type="text">
															</td>
															<td>
																<select class="team form-control" id="team1" name="team1">
																	<option value="0" >请选择</option>
																</select>  
															</td>
															<td>
																<select class="scene form-control" id="Scene1" name="Scene1">
																	<option value="0" >请选择</option>
																</select>  
															</td>
															<td>
																<input class="form-control " onKeyUp="value=value.replace(/\D/g,'')" id="spinner1" name="spinner1" value="1" type="text">
															</td>
															<td>
																<div class="btn btn-sm btn-danger" onclick="teDel(trId)" class="trDel" style="" id="del-ui" title="删除产品">
					                                    			<span class="fa fa-times"></span>
					                                			</div>
					                                		</td>
														</tr>
													</tbody>
												</table>
					                            <div>
					                                <div class="btn btn-sm btn-primary" id="add-ui" style="float:right;margin-bottom:15px;" title="添加产品" >
					                                    <span class="fa fa-plus"></span>
					                                </div>
					                            </div>
					                        </fieldset>
					                      
											
					                        <div class="form-group">
												<label class="col-md-2 control-label">开始时间：</label>
												<div class="col-md-3">
													<input type="text" class="form-control" name="BeginTime" id="BeginTime"
													onclick="laydate({istime: true,format:&#39;YYYY-MM-DD hh:mm&#39;})">
												</div>
												<label class="col-md-2 control-label">结束时间：</label>
												<div class="col-md-3">
													<input type="text" class="form-control" name="ExpireTime" id="ExpireTime"
													onclick="laydate({istime: true,format:&#39;YYYY-MM-DD hh:mm&#39;})">
												</div>
											</div>
											<!-- <div class="form-group">
												<label class="col-md-2 control-label">结束时间：</label>
												<div class="col-md-10">
													<input type="text" class="form-control" name="ExpireTime" id="ExpireTime" placeholder="结束时间必须晚于开始时间">
												</div>
											</div> -->
					                        <div class="form-group">
												<label class="col-md-2 control-label">备注：</label>
												<div class="col-md-10">
													<textarea class="form-control" name="Remark" id="Remark" placeholder="" rows="2"></textarea>
												</div>
											</div>
											 <table id="StylesContainer" class="table table-striped table-bordered table-hover form-horizontal"  >
												<tbody id="StylesTbody"></tbody>
											</table>
					                        <div class="form-actions">
												<div class="row">
													<div class="col-md-12">

														<a class="btn btn-primary" id="add">
															<i class="fa fa-save"></i>
															添加
														</a>
														<a class="btn btn-primary" id="update">
															<i class="fa fa-save"></i>
															修改
														</a>
														<a class="btn btn-danger" onclick="iformclose()">
														<i class="fa fa-close"></i>
														取消
													</a>
													</div>
												</div>
											</div>
					                </form>						       
								</div>
							</div>




							<!-- Widget ID (each widget will need unique ID)-->
							<div class="jarviswidget jarviswidget-color-darken" id="wid-id-0" data-widget-editbutton="false">
								<header>
									<span class="widget-icon"> <i class="fa fa-table"></i> </span>
									<h2>生产单管理</h2>
									<a href="#" id="modal_link" class="btn btn-primary btn-xs" style="height: 22px;">添加生产单</a>
								</header>
								<!-- widget div-->
								<div>
									<!-- widget edit box -->
									<div class="jarviswidget-editbox">
										<!-- This area used as dropdown edit box -->
									</div>
									<form class="form-horizontal" id="searchiform" method="post" >
										<fieldset>
											<div class="form-group">
												<label class="col-md-1 control-label">开始时间：</label>
												<div class="col-md-2">
													<input class="form-control" name="StartTime" id="StartTime" type="text">
												</div>

												<label class="col-md-1 control-label">结束时间：</label>
												<div class="col-md-2">
													<input class="form-control" name="FinshTime" id="FinshTime" type="text">
												</div>

												<label class="col-md-1 control-label">产品：</label>
												<div class="col-md-4">
													<!-- <input class="form-control" placeholder="请输入编号或名称进行查询" autocomplete="off" name="ProductNo" id="ProductNo" type="text">
													<input style="display: none" type="text" id="ProductNoGet"> -->
													<table id='ProductNo'>
													   <tr>
														  <td>
														       <select  id='sel_P1' 
														       style=" height: 32px;width: 90px;border: 1px solid #ccc;"
														       onchange='inOrd_info("sel_P1")'>
														       </select>
														  </td>											
													   </tr>
													</table>
												</div>
												<!-- <div class="col-md-1">
													<button class="btn btn-primary" id="search" onclick="ajax_table()" type="button" >
														<i class="fa fa-search"></i>
														查询
													</button>
												</div> -->
											</div>
					                	</fieldset>
					                	<fieldset>
											<div class="form-group">
												<label class="col-md-1 control-label">订单名称：</label>
												<div class="col-md-2">
													<input class="form-control" name="oNo-serach" id="oNo-serach" type="text">
												</div>

												<label class="col-md-1 control-label">产线：</label>
												<div class="col-md-2">
													<select class="form-control" id="SceneNo" name="SceneNo">
														<option value="">全部</option>
													</select>
												</div>
												<div class="col-md-6">
													<a style="float: right;" id="ToggleColumns" class="btn btn-success">显示/隐藏列</a>
													<button style='float: right;margin-right:10px; ' class="btn btn-primary" id="search" onclick="ajax_table()" type="button" >
														<i class="fa fa-search"></i>
														查询
													</button>
												</div>
											</div>
					                	</fieldset>
					                	
	                				</form>
									<!-- end widget edit box -->
									<!-- widget content -->
									<div class="widget-body no-padding">
				                        <table id="jqgrid"></table>
							            <div id="pjqgrid"></div>
									</div>
									<!-- end widget content -->
								</div>
								<!-- end widget div -->
							</div>
							<!-- end widget -->
						</article>
						<!-- WIDGET END -->
					</div>
					<!-- end row -->
				</section>
				<!-- end widget grid -->
			</div>
			<!-- END MAIN CONTENT -->
		</div>
		<!-- END MAIN PANEL -->
		
		<div id="dialog-detail" title="生产订单详细信息" style="display: none">
			<table id="jqgrid-detail"></table>
			<div id="pjqgrid-detail"></div>
		</div>
        <div id="dialog-search" title="生产订单详细信息" style="display: none">
			<div class="widget-body no-padding">
				<div class="table-responsive">
					<table class="table table-hover">
						<thead>
							<tr>
								<th></th>
								<th>编码号</th>
								<th>有效</th>
								<th>检测到</th>
								<th>采集到</th>
								<th>完整箱跺</th>
								<th>虚拟箱号</th>
								<th>产品码数量</th>
								<th>编码生成时间</th>
							</tr>
						</thead>
						<tbody id="InOrderStatus">
							
						</tbody>
					</table>
				</div>
			</div>
		</div><!-- #dialog-message -->
        <div id="fixedTable" class="top">
        	<h5>生产订单主单信息</h5>
    		<table class="table table-hover">
				<thead>
					<tr>
						<th>主单号</th>
						<th>订单创建人</th>
						<th>订单开始时间</th>
						<th>订单结束时间</th>
					</tr>
				</thead>
				<tbody id="fixedTableTbody">
				</tbody>
			</table>
			<div><button class="btn btn-primary pull-right" data-qx='修改' title='修改' id="fixedBtn" ><i class="fa fa-save"></i> 详情</button></div>
			<div class="arrow" style="left: 50%;"></div>
    	</div>
        <div id="dialog-status" title="请填写备注" style="display: none">
			<input type="text" id="status-text" class="form-control" >
		</div>
		<!-- PAGE FOOTER -->
		<div class="page-footer">
			<div class="row">
				<div class="col-xs-12 col-sm-6">
					<span class="txt-color-white" id="copy"></span>
				</div>
			</div>
		</div>

		<!-- END PAGE FOOTER -->
		<!-- PACE LOADER - turn this on if you want ajax loading to show (caution: uses lots of memory on iDevices)-->
		<script data-pace-options='{ "restartOnRequestAfter": true }' src="../js/plugin/pace/pace.min.js"></script>
		<!-- Link to Google CDN's jQuery + jQueryUI; fall back to local -->
		<script>
			if (!window.jQuery) {
				document.write('<script src="../js/libs/jquery-2.1.1.min.js"><\/script>');
			}
		</script>
		<script>
			if (!window.jQuery.ui) {
				document.write('<script src="../js/libs/jquery-ui-1.10.3.min.js"><\/script>');
			}
		</script>
		<!-- IMPORTANT: APP CONFIG -->
		<script src="../js/jquery.cookie.js"></script>
		<script src="../js/config.js"></script>
		<script src="../js/authority.js"></script>
		<script src="../js/function.js?t=20180831"></script>
		<script src="../js/left.js"></script>
		<script src="../js/ribbon.js"></script>
		<script src="../js/app.config.js"></script>
		<script src="../js/demo.min.js"></script>
		<!-- JS TOUCH : include this plugin for mobile drag / drop touch events-->
		<script src="../js/plugin/jquery-touch/jquery.ui.touch-punch.min.js"></script> 
		<!-- BOOTSTRAP JS -->
		<script src="../js/bootstrap/bootstrap.min.js"></script>
		<!-- CUSTOM NOTIFICATION -->
		<script src="../js/notification/SmartNotification.min.js"></script>
		<!-- JARVIS WIDGETS -->
		<script src="../js/smartwidgets/jarvis.widget.min.js"></script>
		<!-- JQUERY MASKED INPUT -->
		<script src="../js/plugin/masked-input/jquery.maskedinput.min.js"></script>
		<script src="../js/app.min.js"></script>
        <script src="../js/plugin/jqgrid/jquery.jqGrid.min.js"></script>
		<script src="../js/plugin/jqgrid/grid.locale-cn.js"></script>
		<script src="../js/plugin/bootstrapvalidator/bootstrapValidator.min.js"></script>
		<script type="text/javascript" src="./js/laydate.js"></script>
		<script src="inOrder.js?t=201809010b"></script>
		<script type="text/javascript">
		    $(window).on('resize.jqGrid', function () {
		        $("#jqgrid").jqGrid('setGridWidth', $("#content").width());
		    })
		</script>
	</body>
</html>